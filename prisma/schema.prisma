datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Category {
  category_id   String        @id @unique @default(cuid())
  category_name String
  subcategory   Subcategory[]
}

model Subcategory {
  subcategory_id   String    @id @unique @default(cuid())
  subcategory_name String
  category_id      String
  category         Category  @relation(fields: [category_id], references: [category_id])
  product          Product[]
}

model Product {
  product_id       String             @id @unique @default(cuid())
  product_name     String
  overallRating    String?
  subcategory_id   String
  subcategory      Subcategory        @relation(fields: [subcategory_id], references: [subcategory_id], onDelete: Cascade)
  productVariation ProductVariation[] 
  review           Review[]           
}

model ProductVariation {
  productVariation_id    String  @id @unique @default(cuid())
  productVariation_image String
  productVariation_price String
  description            String
  theme                  String
  size                   String
  shipping_charges        String
  delivery_details        String
  about                  String
  requirements           Json
  product_id             String
  product                Product @relation(fields: [product_id], references: [product_id],onDelete: Cascade)
}

model Review {
  review_id  String   @id @unique @default(cuid())
  reviewer   String
  rating     Int
  comment    String?
  createdAt  DateTime @default(now())
  isApproved Boolean  @default(false)
  product_id String   
  product Product @relation(fields:[product_id],references:[product_id], onDelete: Cascade)
}

